# 题目[剑指 Offer 65. 不用加减乘除做加法](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/)

写一个函数，求两个整数之和，要求在函数体内不得使用 “+”、“-”、“*”、“/” 四则运算符号。

 

示例:

```
输入: a = 1, b = 1
输出: 2
```

提示：

    a, b 均可能是负数或 0
    结果不会溢出 32 位整数

*****

# Python解题思路

## 方法1:位运算

不能用加减乘除那只能用加减乘除的底层了，那就是位运算

```python
与运算(&)---都为1的时候才为1
  1 0 1 0 (10)
  1 0 1 1 (11)
  & 结果 
  1 0 1 0 (10) 
  实际上
1 0 1 0 1
右移 0 1 0 << 1  结果 1 0 0
所以&完的结果 右移一位 加上一个特殊的值（1） 就是结果
#========================
异或运算(^)---不相同的时候才为1
1 0 1 0 (10)
1 0 1 1 (11)
^
0 0 0 1 (1)
可以发现上面的特殊值就是 异或的 结果
```

所以我们可以写成

```python
a + b = a ^ b + a & b
但是这里=右边用到了 + 
嘿嘿，是不是有种套娃的感觉，这么熟悉的感觉，没错就是递归
```

代码如下

```python
class Solution:
    def add(self, a: int, b: int) -> int:
        if b == 0: return a
        else: return add(a^b, (a&b)<<1)
```

运行结果

```
执行用时：48 ms, 在所有 Python3 提交中击败了14.33% 的用户
内存消耗：13.5 MB, 在所有 Python3 提交中击败了5.23% 的用户

执行用时：40 ms, 在所有 Python3 提交中击败了65.87% 的用户
内存消耗：13.5 MB, 在所有 Python3 提交中击败了5.23% 的用户

执行用时：36 ms, 在所有 Python3 提交中击败了85.87% 的用户
内存消耗：13.6 MB, 在所有 Python3 提交中击败了5.23%
```

# Go解题思路

## 方法1:位运算

同python的思路，运算符也同python

```go
func add(a int, b int) int {
    if (b == 0){
        return a
    }else{
        return add(a^b, a&b<<1)
    }
}
```

运行结果

```
执行用时：0 ms, 在所有 Go 提交中击败了100.00% 的用户
内存消耗：1.9 MB, 在所有 Go 提交中击败了79.59% 的用户

执行用时：0 ms, 在所有 Go 提交中击败了100.00% 的用户
内存消耗：1.9 MB, 在所有 Go 提交中击败了67.86% 的用户

执行用时：0 ms, 在所有 Go 提交中击败了100.00% 的用户
内存消耗：1.9 MB, 在所有 Go 提交中击败了79.59% 的用户
```

欢迎来github上看更多题目的解答[力扣解题思路](https://github.com/WRAllen/LeetCode)

  

