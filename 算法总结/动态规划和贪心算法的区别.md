# 动态规划和贪心算法的区别

一下来自chatgpt

## 一句话先给结论

贪心 = 每一步都选“当前最优”
动态规划 = 所有子问题最优解都算出来，再拼成全局最优

它们解决的问题类型完全不同。

## 一、核心思想对比

|        | 贪心 (Greedy)          | 动态规划 (DP)       |
| ------ | -------------------- | --------------- |
| 决策方式   | 每一步选当前看起来最好的         | 穷举所有可能的子状态      |
| 是否回头   | 不回头                  | 会反复比较、修正        |
| 复杂度    | 通常 O(n) 或 O(n log n) | 通常 O(n²)、O(nk)  |
| 是否保证最优 | 只有在满足特殊条件时           | 只要建模正确就一定最优     |
| 本质     | 局部最优 → 希望等于全局最优      | 全局最优 = 子问题最优的组合 |


## 二、直觉差异

想象你在走迷宫去拿宝藏：

贪心

    每一步都朝“看起来离宝藏最近”的方向走。

有时候成功，有时候会被带进死胡同。

动态规划

    把每个位置“走到宝藏的最短距离”都算一遍，然后选最短的那条。

慢，但不会错。

## 三、一个经典反例（贪心会翻车）
[322. 零钱兑换](https://leetcode.cn/problems/coin-change/description/?envType=study-plan-v2&envId=top-100-liked)

    给你一些硬币面额 coins = [c1, c2, c3, ...]，每种硬币可以无限用。
    给你一个目标金额 amount。
    问：最少用多少枚硬币可以凑出这个金额？

    如果凑不出来，返回 -1。

硬币：[1, 3, 4]
目标：6

贪心

- 选 4（最大）
- 剩 2 → 1 + 1
- → 共 3 枚

DP

- 3 + 3 → 2 枚 ✅

贪心输了。


还有一题很经典，适合作为例子[279. 完全平方数](https://leetcode.cn/problems/perfect-squares/description/?envType=study-plan-v2&envId=top-100-liked)

## 四、什么时候贪心是对的？

当问题满足：

“局部最优能导出全局最优”

这个性质叫：
👉 Greedy-choice property

比如：

| 问题              | 为什么贪心成立        |
| --------------- | -------------- |
| 活动选择（区间调度）      | 选结束最早的不会影响后续最优 |
| Huffman 编码      | 频率最小的一定在最深层    |
| 最小生成树 (Kruskal) | 最小边不会破坏全局最小    |



这些都可以被严格数学证明。

## 五、动态规划解决什么？

DP 解决的是：

“决策会影响未来选择” 的问题

比如：

- 背包问题
- 编辑距离
- 股票买卖
- 字符串匹配
- 最长递增子序列
- 路径最小和

这些问题：

    你现在的选择会改变后面可选的空间

所以不能贪。

## 六、算法设计时怎么选？

面试或刷题时可以用这个判断：

如果满足：

    每一步选择后，不会后悔

    不需要“回看”之前的决策

→ 贪心

如果满足：

    当前选错会影响未来结果

    有“状态”影响后续

→ 动态规划